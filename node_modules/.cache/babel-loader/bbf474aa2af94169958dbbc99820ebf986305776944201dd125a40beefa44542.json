{"ast":null,"code":"import{React,useRef,useEffect}from'react';import*as d3 from'd3';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TaskGraph(_ref){var filterAudits=_ref.filterAudits;var svg2Ref=useRef();var taskRef=useRef();taskRef.current=filterAudits.sort(function(a,b){return a.amount-b.amount;});useEffect(function(){var width=1000;var height=600;var margin={top:50,bottom:50,left:50,right:50};var Y=d3.map(taskRef.current,function(d){return d.amount;});var X=d3.map(taskRef.current,function(d){return d.object.name;});var svg=d3.select(svg2Ref.current).attr('height',height-margin.top-margin.bottom).attr('width',width-margin.left-margin.right).attr('viewBox',[0,0,width,height]);var xScale=d3.scaleBand().domain(d3.range(taskRef.current.length)).range([margin.left,width-margin.right]).padding(0.1);var yScale=d3.scaleLinear().domain([0,d3.max(Y)]).range([height-margin.bottom,margin.top]);svg.append('g').attr('fill','#A7727D').selectAll('rect').data(Y).join('rect').attr('x',function(d,i){return xScale(i);}).attr('y',function(d){return yScale(d);}).attr('height',function(d){return yScale(0)-yScale(d);}).attr('width',xScale.bandwidth());function yAxis(g){g.attr('transform',\"translate(\".concat(margin.left,\", 0)\"));g.call(d3.axisLeft(yScale));}function xAxis(g){g.attr('transform',\"translate(0, \".concat(height-margin.bottom,\")\")).call(d3.axisBottom(xScale).tickFormat(function(i){return X[i];}));}svg.append('g').call(yAxis);svg.append('g').call(xAxis);svg.node();},taskRef.current);return/*#__PURE__*/_jsxs(\"div\",{className:\"task-graph\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"task-graph-title\",children:\"XP by task\"}),/*#__PURE__*/_jsx(\"p\",{className:\"task-graph-subcomment\",children:\"*Div 01 represents the XP of being a mentor for second batch\"}),/*#__PURE__*/_jsx(\"svg\",{ref:svg2Ref})]});}export default TaskGraph;","map":{"version":3,"names":["React","useRef","useEffect","d3","TaskGraph","filterAudits","svg2Ref","taskRef","current","sort","a","b","amount","width","height","margin","top","bottom","left","right","Y","map","d","X","object","name","svg","select","attr","xScale","scaleBand","domain","range","length","padding","yScale","scaleLinear","max","append","selectAll","data","join","i","bandwidth","yAxis","g","call","axisLeft","xAxis","axisBottom","tickFormat","node"],"sources":["/home/mannakass/kood/graphql/src/components/TaskGraph.js"],"sourcesContent":["import { React, useRef, useEffect } from 'react'\nimport * as d3 from 'd3'\n\nfunction TaskGraph({ filterAudits }) {\n\n    const svg2Ref = useRef();\n    let taskRef = useRef()\n    taskRef.current = filterAudits.sort((a, b) => (a.amount) - (b.amount))\n\n    useEffect(() => {\n        const width = 1000;\n        const height = 600;\n        const margin = { top: 50, bottom: 50, left: 50, right: 50 }\n        const Y = d3.map(taskRef.current, d => d.amount);\n        const X = d3.map(taskRef.current, d => d.object.name)\n\n        const svg = d3.select(svg2Ref.current)\n            .attr('height', height - margin.top - margin.bottom)\n            .attr('width', width - margin.left - margin.right)\n            .attr('viewBox', [0, 0, width, height])\n\n\n        const xScale = d3.scaleBand()\n            .domain(d3.range(taskRef.current.length))\n            .range([margin.left, width - margin.right])\n            .padding(0.1)\n\n\n        const yScale = d3.scaleLinear()\n            .domain([0, d3.max(Y)])\n            .range([height - margin.bottom, margin.top])\n\n        svg\n            .append('g')\n            .attr('fill', '#A7727D')\n            .selectAll('rect')\n            .data(Y)\n            .join('rect')\n            .attr('x', (d, i) => xScale(i))\n            .attr('y', (d) => yScale(d))\n            .attr('height', (d) => yScale(0) - yScale(d))\n            .attr('width', xScale.bandwidth())\n\n        function yAxis(g) {\n            g.attr('transform', `translate(${margin.left}, 0)`)\n            g.call(d3.axisLeft(yScale))\n        }\n\n        function xAxis(g) {\n            g.attr('transform', `translate(0, ${height - margin.bottom})`)\n                .call(d3.axisBottom(xScale).tickFormat(i => X[i]))\n        }\n\n        svg.append('g').call(yAxis)\n        svg.append('g').call(xAxis)\n        svg.node()\n    }, taskRef.current)\n\n    return (\n        <div className='task-graph'>\n            <p className='task-graph-title'>XP by task</p>\n            <p className='task-graph-subcomment'>*Div 01 represents the XP of being a mentor for second batch</p>\n            <svg ref={svg2Ref}></svg>\n        </div>\n    )\n}\nexport default TaskGraph\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}